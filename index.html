<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Vietjet - Ch∆°i l√† c√≥ qu√†</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ca161c">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- M√†n h√¨nh ch√†o m·ª´ng - Splash Screen -->
    <div id="welcome-screen" class="screen active splash-screen">
        <!-- Animated clouds -->
        <div class="splash-cloud cloud-1">
            <img src="assets/cloud.png" alt="Cloud">
        </div>
        <div class="splash-cloud cloud-2">
            <img src="assets/cloud_2.png" alt="Cloud">
        </div>
        <div class="splash-cloud cloud-3">
            <img src="assets/cloud.png" alt="Cloud">
        </div>
        <div class="splash-cloud cloud-4">
            <img src="assets/cloud_2.png" alt="Cloud">
        </div>
        <div class="splash-cloud cloud-5">
            <img src="assets/cloud.png" alt="Cloud">
        </div>
        <!-- <div class="splash-cloud cloud-6">
            <img src="assets/cloud_2.png" alt="Cloud">
        </div> -->
        
        <!-- Animated planes -->
        <div class="splash-plane plane-anim-1">
            <img src="assets/player/vj1.png" alt="Plane">
        </div>
        <div class="splash-plane plane-anim-2">
            <img src="assets/player/vj3.png" alt="Plane">
        </div>
        <div class="splash-plane plane-anim-3">
            <img src="assets/player/vj8.png" alt="Plane">
        </div>
        <div class="splash-plane plane-anim-4">
            <img src="assets/player/vj10.png" alt="Plane">
        </div>
        <!-- <div class="splash-plane plane-anim-5">
            <img src="assets/player/vj11.png" alt="Plane">
        </div>
        <div class="splash-plane plane-anim-6">
            <img src="assets/player/vj14.png" alt="Plane">
        </div> -->
        
        <div class="splash-container">
            <div class="splash-logo">
                <img src="assets/logo.png" alt="Vietjet Logo">
            </div>
            <h1 class="splash-title">B·∫ÆT M√ÅY BAY VIETJET</h1>
            <p class="splash-subtitle">MASTER THE SKIES</p>
            <button class="splash-button" onclick="showSurvey()">
                <span>TAP TO START</span>
            </button>
        </div>
        <!-- Decorative elements -->
        <div class="splash-decorations">
            <div class="circle-decoration circle-1"></div>
            <div class="circle-decoration circle-2"></div>
            <div class="circle-decoration circle-3"></div>
            <div class="circle-decoration circle-4"></div>
        </div>
    </div>

    <!-- M√†n h√¨nh kh·∫£o s√°t -->
    <div id="survey-screen" class="screen">
        <!-- Flash message cho validation - ƒë√≠nh v√†o container ƒë·ªè -->
        <div id="flash-message" class="flash-message">
            <span>‚ö†Ô∏è Vui l√≤ng tr·∫£ l·ªùi t·∫•t c·∫£ c√°c c√¢u h·ªèi!</span>
        </div>
        
        <div class="container">
            <h2 class="screen-title">Kh·∫£o s√°t ng·∫Øn</h2>
            <p class="intro-text">Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu ch∆°i, xin ph√©p b·∫°n tr·∫£ l·ªùi 1 s·ªë c√¢u h·ªèi sau ƒë√¢y nh√©</p>
            
            <div class="question-block">
                <p class="question">1. ƒê√¢y c√≥ ph·∫£i l√† l·∫ßn ƒë·∫ßu b·∫°n di chuy·ªÉn b·∫±ng m√°y bay kh√¥ng?</p>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q1" value="yes" required>
                        <span>ƒê√∫ng</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="no">
                        <span>Kh√¥ng</span>
                    </label>
                </div>
            </div>

            <div class="question-block">
                <p class="question">2. B·∫°n s·∫Ω ch·ªçn d·ªãch v·ª• bay c·ªßa ch√∫ng t√¥i v√¨ ƒëi·ªÅu g√¨?</p>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q2" value="service" required>
                        <span>D·ªãch v·ª• t·ªët, gi√° c·∫£ ph√π h·ª£p</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="experience">
                        <span>T√¥i mu·ªën tr·∫£i nghi·ªám d·ªãch v·ª• c·ªßa h√£ng</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="other">
                        <span>Kh√°c</span>
                    </label>
                </div>
            </div>

            <div class="question-block">
                <p class="question">3. Xin c·∫£m ∆°n b·∫°n ƒë√£ tham gia kh·∫£o s√°t. Gi·ªù th√¨ ch√∫ng ta c√πng b·∫Øt ƒë·∫ßu ch∆°i nh√©!</p>
            </div>

            <div class="question-block" style="margin-top: -30px;">
                <button class="btn btn-primary" onclick="validateAndShowIntro()">Ti·∫øp t·ª•c</button>
            </div>
        </div>
    </div>

    <!-- M√†n h√¨nh gi·ªõi thi·ªáu game -->
    <div id="intro-screen" class="screen">
        <div class="container">
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px;">
                <h2 class="screen-title" style="margin: 0;">H∆∞·ªõng d·∫´n ch∆°i</h2>
                <button class="help-button" onclick="showRulesModal()">?</button>
            </div>
            <div class="intro-box">
                <p class="intro-text">Ch·∫°m ƒë·ªÉ b·∫Øt m√°y bay Vietjet v√† nh·∫≠n qu√† nh√©!</p>
                <div class="game-info">
                    <div class="info-item">
                        <span class="info-icon">‚úàÔ∏è</span>
                        <span>B·∫Øt ƒë∆∞·ª£c 6/10 m√°y bay ƒë·ªÉ th·∫Øng</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚è∞</span>
                        <span>M·ªói m√°y bay b·∫Øt ƒë∆∞·ª£c +2s th·ªùi gian</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">üëÜ</span>
                        <span>C√≥ 3 c∆° h·ªôi ch·∫°m nh·∫ßm</span>
                    </div>
                    <!-- <div class="info-item">
                        <span class="info-icon">üö®</span>
                        <span>ƒê·ª´ng ƒë·ªÉ m√°y bay th·ª© 10 bay m·∫•t!</span>
                    </div> -->
                </div>
            </div>
            <button class="btn btn-primary" onclick="showMapSelection()">B·∫Øt ƒë·∫ßu ch∆°i</button>
        </div>
    </div>

    <!-- M√†n h√¨nh ch·ªçn map -->
    <div id="map-selection-screen" class="screen">
        <div class="container">
            <h2 class="screen-title">Ch·ªçn b·∫£n ƒë·ªì</h2>
            <p class="intro-text">Ch·ªçn m·ªôt b·∫£n ƒë·ªì ƒë·ªÉ b·∫Øt ƒë·∫ßu ch∆°i</p>
            <div class="map-grid">
                <div class="map-item" onclick="selectMap(1)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_1.jpg" alt="Map 1">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 1</span>
                </div>
                <div class="map-item" onclick="selectMap(2)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_2.jpg" alt="Map 2">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 2</span>
                </div>
                <div class="map-item" onclick="selectMap(3)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_3.jpg" alt="Map 3">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 3</span>
                </div>
                <div class="map-item" onclick="selectMap(4)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_4.jpg" alt="Map 4">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 4</span>
                </div>
                <div class="map-item" onclick="selectMap(5)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_5.jpg" alt="Map 5">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 5</span>
                </div>
                <div class="map-item" onclick="selectMap(6)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_6.jpg" alt="Map 6">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 6</span>
                </div>
                <div class="map-item" onclick="selectMap(7)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_7.jpg" alt="Map 7">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 7</span>
                </div>
                <div class="map-item" onclick="selectMap(8)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_8.jpg" alt="Map 8">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 8</span>
                </div>
                <div class="map-item" onclick="selectMap(9)">
                    <div class="map-image-wrapper">
                        <img src="assets/map/map_9.jpg" alt="Map 9">
                    </div>
                    <span class="map-label">B·∫£n ƒë·ªì 9</span>
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- M√†n h√¨nh game -->
    <div id="game-screen" class="screen">
        <div class="game-header">
            <div class="score-board">
                <div class="score-box">
                    <div class="score-icon">üõ´</div>
                    <div class="score-info">
                        <span class="score-label">VietJet ƒë√£ xu·∫•t hi·ªán:</span>
                        <span class="score-value" id="vietjet-spawned">0/10</span>
                    </div>
                </div>
                <div class="score-box">
                    <div class="score-icon">‚úàÔ∏è</div>
                    <div class="score-info">
                        <span class="score-label">M√°y bay b·∫Øt ƒë∆∞·ª£c:</span>
                        <span class="score-value" id="caught-count">0/10</span>
                    </div>
                </div>
                <div class="score-box">
                    <div class="score-icon">‚è±Ô∏è</div>
                    <div class="score-info">
                        <span class="score-label">Th·ªùi gian c√≤n l·∫°i:</span>
                        <span class="score-value timer" id="time-left">20s</span>
                    </div>
                </div>
                <div class="score-box">
                    <div class="score-icon">üíñ</div>
                    <div class="score-info">
                        <span class="score-label">C∆° h·ªôi c√≤n l·∫°i:</span>
                        <span class="score-value" id="chances-left">3</span>
                    </div>
                </div>
            </div>
        </div>
        <canvas id="game-canvas"></canvas>
    </div>

    <!-- M√†n h√¨nh th·∫Øng -->
    <div id="win-screen" class="screen">
        <div class="container">
            <div class="result-icon win">
                <img src="assets/win.png" alt="Win" style="max-width: 120px; height: auto;">
            </div>
            <h2 class="screen-title">Ch√∫c m·ª´ng!</h2>
            <p class="result-text">B·∫°n ƒë√£ b·∫Øt ƒë∆∞·ª£c c√°c m√°y bay Vietjet</p>
            <p class="intro-text">Tuy·ªát v·ªùi! ƒê√¢y l√† ph·∫ßn qu√† d√†nh cho b·∫°n. H√£y nh·∫≠n voucher ngay nh√©.</p>
            <div class="qr-code">
                <img src="assets/qr_vietjet.png" alt="QR Vietjet" width="180">
                <p class="qr-label">Qu√©t m√£ ƒë·ªÉ nh·∫≠n voucher</p>
                <a href="https://evoucher.vietjetair.com/" target="_blank" class="link">evoucher.vietjetair.com</a>
            </div>
            <button class="btn btn-primary" onclick="showRating()">Ti·∫øp t·ª•c</button>
        </div>
    </div>

    <!-- M√†n h√¨nh thua -->
    <div id="lose-screen" class="screen">
        <div class="container">
            <div class="result-icon lose">
                <img src="assets/loser.png" alt="Lose" style="max-width: 120px; height: auto;">
            </div>
            <h2 class="screen-title">B·∫°n su√Ωt b·∫Øt ƒë∆∞·ª£c m√°y bay r·ªìi</h2>
            <p class="result-text">H√£y th·ª≠ l·∫°i v√†o l·∫ßn sau nh√©!</p>
            <p class="intro-text">Kh√¥ng sao, Vietjet v·∫´n lu√¥n ƒë·ªìng h√†nh c√πng b·∫°n trong m·ªçi h√†nh tr√¨nh!</p>
            <button class="btn btn-primary" onclick="showRating()">Ti·∫øp t·ª•c</button>
        </div>
    </div>

    <!-- M√†n h√¨nh ƒë√°nh gi√° -->
    <div id="rating-screen" class="screen">
        <div class="container">
            <h2 class="screen-title">ƒê√°nh gi√° d·ªãch v·ª•</h2>
            <p class="intro-text">B·∫°n c√≥ h√†i l√≤ng v·ªõi d·ªãch v·ª• h√¥m nay kh√¥ng?</p>
            <div id="rating-emoji" class="rating-emoji">ü§î</div>
            <div class="star-rating">
                <span class="star" data-value="1" onclick="rateStar(1)">‚òÜ</span>
                <span class="star" data-value="2" onclick="rateStar(2)">‚òÜ</span>
                <span class="star" data-value="3" onclick="rateStar(3)">‚òÜ</span>
                <span class="star" data-value="4" onclick="rateStar(4)">‚òÜ</span>
                <span class="star" data-value="5" onclick="rateStar(5)">‚òÜ</span>
            </div>
            <p id="rating-value" class="rating-value"></p>
        </div>
    </div>

    <!-- M√†n h√¨nh c·∫£m ∆°n -->
    <div id="thank-screen" class="screen">
        <div class="container">
            <div class="logo">
                <img src="assets/logo.png" alt="Vietjet Logo" width="200">
            </div>

            <h2 class="screen-title">C·∫£m ∆°n b·∫°n!</h2>
            <p class="intro-text">Xin c·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa Vietjet ng√†y h√¥m nay. Ch√∫c b·∫°n c√≥ 1 chuy·∫øn ƒëi vui v·∫ª v√† an to√†n nh√©.</p>
        
            <button class="btn btn-primary" onclick="restartGame()">Ch∆°i l·∫°i</button>
        </div>
    </div>

    <!-- Modal ƒëi·ªÅu ki·ªán th·∫Øng thua -->
    <div id="rules-modal" class="modal">
        <div class="modal-overlay" onclick="closeRulesModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeRulesModal()">√ó</button>
            <h3 class="modal-title"><span style="filter: none; -webkit-text-fill-color: initial;">üìã</span> <span>ƒêi·ªÅu ki·ªán th·∫Øng - thua</span></h3>
            
            <div class="rules-section">
                <h4 class="rules-heading">üèÜ ƒêI·ªÄU KI·ªÜN TH·∫ÆNG:</h4>
                <ul class="rules-list">
                    <li>‚úÖ B·∫Øt ƒë∆∞·ª£c <strong>6/10 m√°y bay VietJet</strong></li>
                    <li>‚è∞ Ho√†n th√†nh trong <strong>th·ªùi gian cho ph√©p</strong></li>
                    <li>üíñ C√≤n √≠t nh·∫•t <strong>1 m·∫°ng</strong></li>
                </ul>
            </div>
            
            <div class="rules-section">
                <h4 class="rules-heading">üíî ƒêI·ªÄU KI·ªÜN THUA:</h4>
                <ul class="rules-list">
                    <li>‚ùå H·∫øt <strong>3 c∆° h·ªôi</strong> (ch·∫°m nh·∫ßm 3 l·∫ßn)</li>
                    <li>‚è±Ô∏è H·∫øt <strong>th·ªùi gian</strong> (0 gi√¢y)</li>
                    <li>üéØ B·∫°n s·∫Ω thua n·∫øu ch∆∞a ƒë·ªß <strong>6/10 m√°y bay</strong> l√∫c h·∫øt th·ªùi gian ho·∫∑c khi <strong>10 chi·∫øc ƒë√£ qua</strong></li>
                </ul>
            </div>
            
            <div class="rules-section tips">
                <h4 class="rules-heading">üí° M·∫∏O CH∆†I:</h4>
                <ul class="rules-list">
                    <li>üéØ Ch·ªâ ch·∫°m v√†o <strong>m√°y bay VietJet</strong> (c√≥ logo VietJet)</li>
                    <li>‚ö†Ô∏è Tr√°nh ch·∫°m v√†o m√°y bay kh√°c (b·ªã tr·ª´ m·∫°ng)</li>
                    <li>‚ö° B·∫Øt m√°y bay nhanh ƒë·ªÉ c·ªông th√™m th·ªùi gian</li>
                </ul>
            </div>
            
            <div style="display: flex; justify-content: center;">
                <button class="btn btn-primary" onclick="closeRulesModal()">ƒê√£ hi·ªÉu</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>

